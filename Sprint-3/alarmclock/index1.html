<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Alarm Clock</title>
</head>
<body>
    <div class="centre">
        <h1 id="timeRemaining">Time Remaining: 00:00</h1>
        <label for="alarmSet">Set time to (seconds):</label>
        <input id="alarmSet" type="number" />

        <button id="set" type="button">Set Alarm</button>
        <button id="stop" type="button">Stop Alarm</button>
    </div>
    <script>
        let countdownInterval;
        let remainingSeconds = 0;

        function setAlarm() {
            const inputSeconds = parseInt(document.getElementById("alarmSet").value);
            if (isNaN(inputSeconds) || inputSeconds <= 0) {
                alert("Please enter a valid number of seconds.");
                return;
            }

            remainingSeconds = inputSeconds;
            updateDisplay();

            clearInterval(countdownInterval);
            countdownInterval = setInterval(() => {
                remainingSeconds--;
                updateDisplay();

                if (remainingSeconds <= 0) {
                    clearInterval(countdownInterval);
                    playAlarm();
                }
            }, 1000);
        }

        function updateDisplay() {
            const minutes = Math.floor(remainingSeconds / 60);
            const seconds = remainingSeconds % 60;
            const formattedTime = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            document.getElementById("timeRemaining").textContent = `Time Remaining: ${formattedTime}`;
        }

        // DO NOT EDIT BELOW HERE

        var audio = new Audio("alarmsound.mp3");

        function setup() {
            document.getElementById("set").addEventListener("click", () => {
                setAlarm();
            });

            document.getElementById("stop").addEventListener("click", () => {
                pauseAlarm();
            });
        }

        function playAlarm() {
            audio.play();
        }

        function pauseAlarm() {
            audio.pause();
        }

        window.onload = setup;
    </script>
</body>
</html>